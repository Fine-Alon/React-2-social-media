"use strict";(self.webpackChunk_1_1_app=self.webpackChunk_1_1_app||[]).push([[304],{632:function(e,t,s){s.d(t,{D:function(){return u}});var r=s(1413),o=(s(2791),s(7689)),n=s(8687),i=s(184),a=function(e){return{isAuth:e.userAuth.isAuth}},u=function(e){return(0,n.$j)(a,null)((function(t){return t.isAuth?(0,i.jsx)(e,(0,r.Z)({},t)):(0,i.jsx)(o.Fg,{to:"/login"})}))}},6304:function(e,t,s){s.r(t),s.d(t,{default:function(){return ee}});var r=s(1413),o=s(5671),n=s(3144),i=s(136),a=s(516),u=s(2791),l="Profile_content__rTLlp",c=s(9439),d=s(5987),f="ProfileInfo_content__GBn3K",p="ProfileInfo_top__tAOSa",h="ProfileInfo_avatar_wrapper__eRvLs",m="ProfileInfo_uploadBTN__MoNpU",x="ProfileInfo_avatar__hFZsR",j=s(6252),b=s(1907),_=s(184),P=function(e){var t=(0,u.useState)(!1),s=(0,c.Z)(t,2),r=s[0],o=s[1],n=(0,u.useState)(e.userStatus),i=(0,c.Z)(n,2),a=i[0],l=i[1];(0,u.useEffect)((function(){l(e.userStatus)}),[e.userStatus]);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{style:{paddingBottom:"15px",display:"flex"},children:[(0,_.jsx)("b",{style:{paddingRight:"7px"},children:"Status:"}),r&&(0,_.jsx)("div",{children:(0,_.jsx)("input",{type:"text",autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(a)},value:a,onChange:function(e){l(e.currentTarget.value)}})}),!r&&(0,_.jsx)("div",{children:(0,_.jsx)("span",{style:{cursor:"pointer"},onDoubleClick:function(){o(!0)},children:e.userStatus||"-----***"})})]})})},g={admin_btn:"ProfileData_admin_btn__ykbEN",topic:"ProfileData_topic__BtK5l"},v=["userProfile","isOwner","startAdminMode"],S=function(e){var t=e.title,s=e.value;return(0,_.jsxs)("li",{children:[(0,_.jsxs)("b",{children:[t,":"]})," ",s]})},k=function(e){var t=e.userProfile,s=e.isOwner,r=e.startAdminMode;(0,d.Z)(e,v);return(0,_.jsxs)(_.Fragment,{children:[s?(0,_.jsx)("button",{className:g.admin_btn,onClick:r,children:"change data"}):"",(0,_.jsxs)("div",{className:g.topic,children:[(0,_.jsx)("b",{children:"looking for a job:"}),t.lookingForAJob?(0,_.jsx)("span",{children:"  What is your offer..?"}):(0,_.jsx)("span",{children:"  No, sorry.."})]}),t.lookingForAJob&&(0,_.jsxs)("div",{className:g.topic,children:[(0,_.jsx)("b",{children:"My skills:"}),(0,_.jsx)("p",{children:t.lookingForAJobDescription})]}),(0,_.jsxs)("div",{className:g.topic,children:[(0,_.jsx)("b",{children:"Full name:"}),(0,_.jsxs)("span",{children:["  ",t.fullName.toUpperCase()]})]}),(0,_.jsxs)("div",{className:g.topic,children:[(0,_.jsx)("b",{children:"About me:"}),(0,_.jsx)("p",{children:t.aboutMe})]}),(0,_.jsxs)("div",{className:g.topic,children:[(0,_.jsx)("b",{children:"Contacts:"}),(0,_.jsx)("ul",{className:g.contacts,children:Object.keys(t.contacts).map((function(e){return(0,_.jsx)(S,{title:e,value:t.contacts[e]},e)}))})]})]})},y=s(1134),N="ProfileDataForm_form__kXhl3",w="ProfileDataForm_submit_btn__4rbaY",I="ProfileDataForm_return_btn__YCg0o",Z="ProfileDataForm_success__LdAi9",F="ProfileDataForm_error_msg__box__GZasR",A="ProfileDataForm_error_msg__U4LJc",C="ProfileDataForm_contacts_ul__TVnVu",D="ProfileDataForm_contacts_li__quZyC",M=["userProfile","sendingSuccess","updateProfileInfo","onSubmitCallback"],O=function(e){var t=e.userProfile,s=e.sendingSuccess,o=e.updateProfileInfo,n=e.onSubmitCallback,i=((0,d.Z)(e,M),(0,u.useState)(!1)),a=(0,c.Z)(i,2),l=a[0],f=a[1],p=(0,y.cI)({mode:"onChange",criteriaMode:"all",defaultValues:{lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,fullName:t.fullName,aboutMe:t.aboutMe,contacts:{github:t.contacts.github,vk:t.contacts.vk,facebook:t.contacts.facebook,instagram:t.contacts.instagram,twitter:t.contacts.twitter,website:t.contacts.website,youtube:t.contacts.youtube,mainLink:t.contacts.mainLink}}}),h=p.register,m=p.handleSubmit,x=p.setError,j=p.clearErrors,b=(p.watch,p.reset,p.formState.errors);return(0,_.jsxs)(_.Fragment,{children:[l&&s?(0,_.jsx)("div",{className:Z,children:" Your form was submitted successfully!"}):null,l&&!s?(0,_.jsx)("div",{className:F,children:" Your form has submitted with Error!"}):null,(0,_.jsxs)("form",{className:N,onSubmit:m((function(e){o(e,x),f(!0)})),children:[(0,_.jsx)("input",{className:w,type:"submit"}),(0,_.jsx)("button",{className:I,type:"button",onClick:function(){return n()},children:"Back"}),(0,_.jsx)("label",{children:"looking for a job:"}),(0,_.jsx)("input",(0,r.Z)({style:{marginRight:"auto"},type:"checkbox"},h("lookingForAJob"))),(0,_.jsx)("label",{children:"My skills:"}),(0,_.jsx)("input",(0,r.Z)({placeholder:"JS, CSS, HTML"},h("lookingForAJobDescription"))),(0,_.jsx)("label",{children:"Full name:"}),(0,_.jsx)("input",(0,r.Z)({placeholder:"John Johns"},h("fullName"))),(0,_.jsx)("label",{children:"About me:"}),(0,_.jsx)("input",(0,r.Z)({placeholder:"I'am funny..."},h("aboutMe"))),(0,_.jsx)("h4",{style:{marginBottom:"0"},children:"Contacts"}),(0,_.jsx)("ul",{className:C,children:Object.entries(t.contacts).map((function(e){var t,s=(0,c.Z)(e,2),o=s[0];s[1];return(0,_.jsxs)("li",{className:D,children:[(0,_.jsxs)("label",{children:[(t=o,t.charAt(0).toUpperCase()+t.slice(1)),":"]}),(0,_.jsx)("input",(0,r.Z)((0,r.Z)({placeholder:o},h("contacts.".concat(o))),{},{onChange:function(){return j(),void f(!1)}}))]},"".concat(o,"input"))}))})," ",b.serverError&&(0,_.jsxs)("div",{className:F,children:[(0,_.jsx)("p",{children:b.serverError.type}),b.serverError.messages.map((function(e){return(0,_.jsx)("p",{className:A,children:e},e)}))]})]})]})},T=["userProfile","updateProfileInfo","sendingSuccess","userStatus","updateStatus","isOwner"],J=function(e){var t=e.userProfile,s=e.updateProfileInfo,r=e.sendingSuccess,o=e.userStatus,n=e.updateStatus,i=e.isOwner,a=(0,d.Z)(e,T),l=(0,u.useState)(!1),g=(0,c.Z)(l,2),v=g[0],S=g[1];if(!t)return(0,_.jsx)(j.Z,{width:{width:"100%"}});return(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)("div",{className:p,children:(0,_.jsxs)("div",{className:h,children:[(0,_.jsx)("img",{className:x,src:t.photos.large||b,alt:"profile pic"}),i?(0,_.jsx)("input",{onChange:function(e){e.target.files.length&&a.updateProfilePhoto(e.target.files[0])},type:"file",className:m}):""]})}),(0,_.jsx)(P,{updateStatus:n,userStatus:o}),v?(0,_.jsx)(O,{onSubmitCallback:function(){S(!1)},sendingSuccess:r,updateProfileInfo:s,userProfile:t,isOwner:i}):(0,_.jsx)(k,{startAdminMode:function(){S(!0)},userProfile:t,isOwner:i})]})},L=s(1382),E=s(3433),B="MyPosts_post_area__QAczv",U="MyPosts_posts__d3g5u",z="Post_item__g2f4-",R=function(e){return(0,_.jsxs)("div",{className:z,children:[(0,_.jsx)("img",{src:"https://cdn.dribbble.com/userupload/8277602/file/original-69b457bdccf5b1f479b58d9b8124d97b.png?compress=1&crop=0x0-1600x1200&resize=840x630&vertical=center",alt:""}),e.message,(0,_.jsxs)("div",{children:[(0,_.jsx)("button",{children:"like"})," ",e.likesCount]})]})},Y=u.memo((function(e){var t=e.postInfo,s=e.addNewPost,o=(0,E.Z)(t).map((function(e){return(0,_.jsx)(R,{likesCount:e.countOfLikes,message:e.message},e.id)})),n=(0,y.cI)(),i=n.handleSubmit,a=n.register,u=n.reset,l=n.formState.errors;return(0,_.jsxs)("div",{className:B,children:[(0,_.jsx)("h3",{children:" my-posts"}),(0,_.jsxs)("form",{onSubmit:i((function(e){e.newPostText?s(e.newPostText):alert("But field is empty..."),u({newPostText:""})})),children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("textarea",(0,r.Z)({placeholder:"write your post.."},a("newPostText",{maxLength:{value:100,message:"Too much symbols, keep less then 100 symbols"}}))),l.newPostText&&(0,_.jsx)("span",{children:l.newPostText.message})]}),(0,_.jsx)("div",{children:(0,_.jsx)("button",{type:"submit",children:"add post"})})]}),(0,_.jsx)("div",{className:U,children:o})]})})),q=s(8687),H=(0,q.$j)((function(e){return{postInfo:e.profilePage.postInfo}}),(function(e){return{addNewPost:function(t){e((0,L.EQ)(t))}}}))(Y),V=function(e){return(0,_.jsxs)("body",{className:l,children:[(0,_.jsx)(J,{isOwner:e.isOwner,updateProfileInfo:e.updateProfileInfo,updateStatus:e.updateStatus,userStatus:e.userStatus,sendingSuccess:e.sendingSuccess,updateProfilePhoto:e.updateProfilePhoto,userProfile:e.userProfile}),(0,_.jsx)(H,{})]})},$=s(7781),G=s(632),K=s(7238),Q=s(7689),W=function(e){return function(t){var s=(0,Q.TH)(),o=(0,Q.s0)(),n=(0,Q.UO)();return(0,_.jsx)(e,(0,r.Z)((0,r.Z)({},t),{},{router:{location:s,navigate:o,params:n}}))}},X=function(e){(0,i.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfileData",value:function(){var e=this.props.router.params.userId;e||(e=this.props.authorizedId),this.props.getProfileInfo(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfileData()}},{key:"componentDidUpdate",value:function(e,t,s){e.router.params.userId!==this.props.router.params.userId&&this.refreshProfileData()}},{key:"render",value:function(){return(0,_.jsx)(V,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.router.params.userId,userProfile:this.props.userProfile,userStatus:this.props.userStatus,updateProfileInfo:this.props.updateProfileInfo,updateStatus:this.props.updateProfileStatus,updateProfilePhoto:this.props.updateProfilePhoto}))}}]),s}(u.Component),ee=(0,$.qC)((0,q.$j)((function(e){return{userProfile:e.profilePage.userProfile,userStatus:e.profilePage.userStatus,sendingSuccess:e.profilePage.sendingSuccess,authorizedId:e.userAuth.authUserId}}),{initializeApp:K.ZF,updateProfilePhoto:L.Hh,updateProfileInfo:L.y3,getProfileInfo:L.j3,getProfileStatus:L.TL,updateProfileStatus:L.vq}),W,G.D)(X)},1907:function(e,t,s){e.exports=s.p+"static/media/users_ava.07bb4975e4c32fc1a3ea.png"}}]);
//# sourceMappingURL=304.4fa4dd9c.chunk.js.map